<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>

        <style type="text/css">
            @import url("style.css");
        </style>


    </h:head>
    <h:body style="margin:0; padding: 0; margin-left: 10%; margin-right: 10%;">
        <div  style=" margin: auto;display: flex ; margin-top: 50px; margin-bottom: 20px; background-color: #27798F; border-radius: 5px; height: 50px; align-items: center; align-content: center;
              width: 100%; color: #ffffff; text-align: center; justify-content: center; font-size: 30px;" >Calculadora</div>
        <br />
        <h:form > 
            <h:outputLabel style="margin-right: 20px;">Valor 1:</h:outputLabel>
            <h:inputText id="operando1" value="#{operacion.operandoUno}" /><br/>
            <h:outputLabel style="margin-right: 20px;">Valor 2:</h:outputLabel>
            <h:inputText id="operando2" value="#{operacion.operandoDos}" /><br/>
            <h:outputLabel style="margin-right: 20px; ">Resultado:</h:outputLabel> <h:outputText id="resultado" value="#{operacion.resultado}" /><br/>
            <div style="margin-top: 20px;">
                <h:commandButton actionListener="#{operacion.sumar}" value="Sumar" style="  display:inline-block; padding:0.3em 1.2em; margin:0 0.3em 0.3em 0; border-radius:2em; box-sizing: border-box; text-decoration:none; border-style: none ; font-weight:300; color:#FFFFFF; background-color:#4eb5f1; text-align:center; transition: all 0.2s;">
                    <f:ajax execute="operando1 operando2" render="resultado"/>
                </h:commandButton>
                <h:commandButton value="Restar" actionListener="#{operacion.restar}" style="display:inline-block; padding:0.3em 1.2em; margin:0 0.3em 0.3em 0; border-radius:2em; box-sizing: border-box; text-decoration:none; border-style: none ; font-weight:300; color:#FFFFFF; background-color:#4eb5f1; text-align:center; transition: all 0.2s;">
                    <f:ajax execute="operando1 operando2" render="resultado"/>
                </h:commandButton>
                <h:commandButton value="Multiplicar" actionListener="#{operacion.multiplicar}" style="display:inline-block; padding:0.3em 1.2em; margin:0 0.3em 0.3em 0; border-radius:2em; box-sizing: border-box; text-decoration:none; border-style: none ; font-weight:300; color:#FFFFFF; background-color:#4eb5f1; text-align:center; transition: all 0.2s;">
                    <f:ajax execute="operando1 operando2" render="resultado"/>
                </h:commandButton>
                <h:commandButton value="Dividir" actionListener="#{operacion.dividir}" style="display:inline-block; padding:0.3em 1.2em; margin:0 0.3em 0.3em 0; border-radius:2em; box-sizing: border-box; text-decoration:none; border-style: none ; font-weight:300; color:#FFFFFF; background-color:#4eb5f1; text-align:center; transition: all 0.2s;">
                    <f:ajax execute="operando1 operando2" render="resultado"/>
                </h:commandButton>
            </div>

            <div  style=" margin: auto;display: flex ; margin-top: 50px; margin-bottom: 20px; background-color: #0b6730; border-radius: 5px; height: 50px; align-items: center; align-content: center;
                  width: 100%; color: #ffffff; text-align: center; justify-content: center; font-size: 30px;" >Añadir Usuario</div>
            <div style="height: 30px;">

                <h:outputLabel style="margin-right: 20px;">Usuario:</h:outputLabel>
                <h:inputText id="txtNombre" value="#{operacion.usuario}" />
            </div>
            <div style="height: 30px;">
                <h:outputLabel style="margin-right: 20px;">Clave:</h:outputLabel>
                <h:inputText id="txtClave" value="#{operacion.clave}" />

            </div>
            <div style="height: 30px;">
                <h:outputLabel style="margin-right: 20px;">Email:</h:outputLabel>
                <h:inputText id="txtEmail" value="#{operacion.email}" /><br/>  
            </div>
            <div style="height: 30px;">
                <h:outputLabel style="margin-right: 20px;">Telefono:</h:outputLabel>
                <h:inputText id="txtTelefono" value="#{operacion.telmovil}" /><br/>  
            </div>
            <h:commandButton actionListener="#{operacion.insertar()}" value="Insertar Usuarios" style="display:inline-block; padding:0.3em 1.2em; margin:0 0.3em 0.3em 0; border-radius:2em; box-sizing: border-box; text-decoration:none; border-style: none ; font-weight:300; color:#FFFFFF; background-color:#0b6730; text-align:center; transition: all 0.2s;">
                <f:ajax execute="txtNombre txtClave txtEmail txtTelefono" render="users"/>
            </h:commandButton>

            <div  style=" margin: auto;display: flex ; margin-top: 50px; margin-bottom: 20px; background-color: #cc0000; border-radius: 5px; height: 50px; align-items: center; align-content: center;
                  width: 100%; color: #ffffff; text-align: center; justify-content: center; font-size: 30px;" >Eliminar Usuario</div>

            <div style="height: 30px;">
                <h:outputLabel style="margin-right: 20px;">Usuario a Eliminar:</h:outputLabel>
                <h:inputText id="txtNombreEliminar" value="#{operacion.usuarioEliminar}" />
            </div>

            <h:commandButton actionListener="#{operacion.eliminarUsuario}" value="Eliminar Usuario" 
                             style="display:inline-block; padding:0.3em 1.2em; margin:0 0.3em 0.3em 0; 
                             border-radius:2em; box-sizing: border-box; text-decoration:none; 
                             border-style: none ; font-weight:300; color:#FFFFFF; background-color:#E74C3C; 
                             text-align:center; transition: all 0.2s;">
                <f:ajax execute="txtNombreEliminar" render="users"/>
            </h:commandButton>

            <div  style=" margin: auto;display: flex ; margin-top: 50px; margin-bottom: 20px; background-color: #7401DF; border-radius: 5px; height: 50px; align-items: center; align-content: center;
                  width: 100%; color: #ffffff; text-align: center; justify-content: center; font-size: 30px;" >Actualizar Usuario</div>

            <!-- Otros elementos y secciones existentes ... -->

            <div style="height: 50px;">
                <h:outputLabel style="margin-right: 20px;">Nombre de usuario a editar:</h:outputLabel>
                <h:inputText id="txtNombreEditar" value="#{operacion.usuarioEditar}" />
            </div>
            <div style="height: 30px;">
                <h:outputLabel style="margin-right: 20px;">Nueva Clave:</h:outputLabel>
                <h:inputText id="txtClaveEditar" value="#{operacion.clave}" />
            </div>
            <div style="height: 30px;">
                <h:outputLabel style="margin-right: 20px;">Nuevo Email:</h:outputLabel>
                <h:inputText id="txtEmailEditar" value="#{operacion.email}" /><br/>  
            </div>
            <div style="height: 30px;">
                <h:outputLabel style="margin-right: 20px;">Nuevo Telefono:</h:outputLabel>
                <h:inputText id="txtTelefonoEditar" value="#{operacion.telmovil}" /><br/>  
            </div>

            <!-- Botón para actualizar usuario -->
            <h:commandButton actionListener="#{operacion.actualizarUsuario}" value="Actualizar Usuario" 
                             style="display:inline-block; padding:0.3em 1.2em; margin:0 0.3em 0.3em 0; 
                             border-radius:2em; box-sizing: border-box; text-decoration:none; 
                             border-style: none ; font-weight:300; color:#FFFFFF; background-color:#7401DF; 
                             text-align:center; transition: all 0.2s;">
                <f:ajax execute="txtNombreEditar txtClaveEditar txtEmailEditar txtTelefonoEditar" render="users"/>
            </h:commandButton>




            <div  style=" margin: auto;display: flex ; margin-top: 50px; margin-bottom: 20px; background-color: #27798F; border-radius: 5px; height: 50px; align-items: center; align-content: center;
                  width: 100%; color: #ffffff; text-align: center; justify-content: center; font-size: 30px;" >Lista de usuarios</div>

            <div style="margin-top: 15px; margin-bottom: 15px;">
                <h:commandButton actionListener="#{operacion.getRegistros}" value="Leer Usuarios"  style="display:inline-block; padding:0.3em 1.2em; margin:0 0.3em 0.3em 0; border-radius:2em; box-sizing: border-box; text-decoration:none; border-style: none ; font-weight:300; color:#FFFFFF; background-color:#4eb5f1; text-align:center; transition: all 0.2s;">
                    <f:ajax execute="" render="users"/>
                </h:commandButton>








            </div>
            <p:dataTable value="#{operacion.registros}" var="usuario" id="users" emptyMessage="No hay usuarios">
                <p:column headerText="Usuario">
                    <h:outputText value="#{usuario.usuario}" />
                </p:column>
                <p:column headerText="Clave">
                    <h:outputText value="#{usuario.clave}" />
                </p:column>
                <p:column headerText="Email">
                    <h:outputText value="#{usuario.email}" />
                </p:column>
                <p:column headerText="Teléfono Móvil">
                    <h:outputText value="#{usuario.telmovil}" />
                </p:column>
            </p:dataTable>
            <p:dialog id="successDialog" header="Éxito" widgetVar="successDialog" modal="true" resizable="false">
                ¡Los datos se guardaron exitosamente!
            </p:dialog>



        </h:form>
    </h:body>
</html>

